#!/usr/bin/env sh
# POSIX wrapper: call PowerShell hook logic
# Prefer pwsh in PATH; fallback to default install path
if command -v pwsh >/dev/null 2>&1; then
  PWSH="pwsh"
elif [ -x "/c/Program Files/PowerShell/7/pwsh.exe" ]; then
  PWSH="/c/Program Files/PowerShell/7/pwsh.exe"
else
  echo "[HOOK] pwsh not found" >&2
  exit 1
fi
SCRIPT_DIR="$(CDPATH= cd -- "$(dirname "$0")" && pwd)"
exec "$PWSH" -NoProfile -ExecutionPolicy Bypass -File "$SCRIPT_DIR/pre-commit.ps1" "$@"